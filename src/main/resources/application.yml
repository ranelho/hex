spring:
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}
  application:
    name: hex-architecture-demo
  main:
    allow-bean-definition-overriding: true

server:
  servlet:
    context-path: /hex/api
    multipart:
      enabled: true
      max-file-size: 1MB
      max-request-size: 1MB
      file-size-threshold: 0
      location: ~/temp/
# Configurações comuns para todos os ambientes

springdoc:
  swagger-ui:
    path: /public/swagger

# Configurações para o Resilience4j
resilience4j:
  circuitbreaker:
    instances:
      viaCepCircuitBreaker:
        registerHealthIndicator: true
        slidingWindowSize: 10
        slidingWindowType: COUNT_BASED
        minimumNumberOfCalls: 5
        failureRateThreshold: 50
        waitDurationInOpenState: 30s
        permittedNumberOfCallsInHalfOpenState: 5
        automaticTransitionFromOpenToHalfOpenEnabled: true
        recordExceptions:
          - java.lang.Exception

# Configuração de logs
logging:
  level:
    com.rlti.hex: INFO
    org.springframework.web: INFO
    org.springframework.cache: INFO
    io.github.resilience4j: INFO
  # Configurações personalizadas da aplicação
  app:
  logging:
    include-context-details: true
    max-response-size-in-log: 1000
    include-full-stack-trace: false
  cache:
    default-time-to-live-seconds: 300
    max-size: 1000
  monitoring:
    slow-execution-threshold-ms: 1000
    log-slow-methods: true